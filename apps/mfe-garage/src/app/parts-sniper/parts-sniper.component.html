
<div class="h-full flex flex-col p-6 bg-background min-h-screen">
  <div class="mb-6">
    <h1 class="text-3xl font-bold tracking-tight">Parts Sniper</h1>
    <p class="text-muted-foreground mt-2">Automated OLX market monitoring and deal analysis.</p>
  </div>

  <hlm-tabs tab="results" class="gap-4">
    <hlm-tabs-list variant="line">
       <button hlmTabsTrigger="results">Sniper Results</button>
       <button hlmTabsTrigger="config">Search Configuration</button>
    </hlm-tabs-list>

    <div hlmTabsContent="results" class="flex-1 flex flex-col min-h-0">
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-6 h-full pb-6">
            <div class="lg:col-span-3 flex flex-col gap-6 overflow-y-auto pr-2">
                 
                 <div class="rounded-xl border bg-card text-card-foreground shadow-sm overflow-hidden">
                    <div class="p-4 border-b bg-muted/40">
                        <h3 class="font-semibold">Search Configs</h3>
                    </div>
                    <div class="p-2 space-y-1">
                        <button hlmBtn variant="ghost" class="w-full justify-start font-normal text-left cursor-pointer" 
                                [ngClass]="{'bg-accent text-accent-foreground font-medium': !selectedConfigId()}"
                                (click)="selectConfig(undefined)">
                            All Configs
                        </button>
                        @for (config of configs(); track config.id) {
                            <button hlmBtn variant="ghost" class="w-full justify-start font-normal text-left truncate block cursor-pointer" 
                                    [ngClass]="{'bg-accent text-accent-foreground font-medium': selectedConfigId() === config.id}"
                                    (click)="selectConfig(config.id)"
                                    title="{{ config.query }}">
                                {{ config.query }}
                            </button>
                        }
                    </div>
                 </div>

                 <div class="rounded-xl border bg-card text-card-foreground shadow-sm p-4">
                    <h3 class="font-semibold mb-4">Great Deals Threshold</h3>
                    <div class="space-y-4">
                        <div class="flex justify-between items-center">
                            <label hlmLabel for="score-slider">Minimum AI Score</label>
                            <span class="text-sm font-medium text-muted-foreground">{{ minScore() }}</span>
                        </div>
                        <input id="score-slider" type="range" min="0" max="100" [ngModel]="minScore()" (ngModelChange)="minScore.set($event)" class="w-full h-2 bg-secondary rounded-lg appearance-none cursor-pointer accent-primary">
                        <p class="text-xs text-muted-foreground">Only show results with an AI confidence score above this value.</p>
                    </div>
                 </div>

            </div>

            <div class="lg:col-span-9 h-full min-h-0 flex flex-col">
              <lifeos-results-grid [configId]="selectedConfigId()" [minScore]="minScore()" class="block w-full h-full"></lifeos-results-grid>
            </div>
        </div>
    </div>

    <div hlmTabsContent="config" class="flex-1 overflow-auto pb-6">
        <lifeos-search-config class="block w-full max-w-4xl"></lifeos-search-config>
    </div>
  </hlm-tabs>
</div>

