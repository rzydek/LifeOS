<!-- eslint-disable @angular-eslint/template/interactive-supports-focus, @angular-eslint/template/click-events-have-key-events -->
<div class="flex-1 overflow-y-auto p-4 space-y-4">
    <ul class="space-y-3">
      @for (config of configs(); track config.id) {
        <li class="group relative bg-card border rounded-lg p-3 hover:border-primary/50 hover:shadow-sm transition-all" (click)="configSelected.emit(config)">
          <div class="flex justify-between items-start">
            <div class="pr-6">
              <h3 class="font-semibold line-clamp-1 break-all">{{ config.query }}</h3>
              <div class="flex flex-wrap gap-1 mt-1.5">
                <span class="inline-flex items-center px-2 py-0.5 rounded-md text-xs font-medium bg-secondary text-secondary-foreground border border-border">
                  {{ getCategoryName(config.parameters['categoryId']) }}
                </span>
                
                @if (config.parameters['locationId']) {
                  @if (getRegionName(config.parameters['locationId']); as regionName) {
                    <span class="inline-flex items-center px-2 py-0.5 rounded-md text-xs font-medium bg-secondary text-secondary-foreground border border-border">
                      {{ regionName }}
                    </span>
                  }
                  
                  <span class="inline-flex items-center px-2 py-0.5 rounded-md text-xs font-medium bg-secondary text-secondary-foreground border border-border">
                    {{ getLocationName(config.parameters['locationId']) }}
                  </span>

                  @if (config.parameters['radius'] > 0) {
                    <span class="inline-flex items-center px-2 py-0.5 rounded-md text-xs font-medium bg-secondary text-secondary-foreground border border-border">
                      +{{ config.parameters['radius'] }} km
                    </span>
                  }
                }
              </div>
              <div class="mt-2 flex items-center text-xs text-muted-foreground">
                <ng-icon hlmIcon name="lucideClock" size="sm" class="mr-1 h-3 w-3" />
                Every {{ config.checkInterval / 3600 }}h
              </div>
            </div>
            
            <button hlmBtn variant="ghost" size="icon-xs" (click)="configDeleted.emit(config.id); $event.stopPropagation()" class="absolute top-2 right-2 cursor-pointer opacity-0 group-hover:opacity-100 transition-opacity text-destructive hover:text-destructive hover:bg-destructive/10">
              <ng-icon hlmIcon name="lucideX" size="sm" class="h-4 w-4" />
            </button>
          </div>
        </li>
      }
      
      @if (configs().length === 0) {
        <li class="text-center py-8 text-sm text-muted-foreground border-2 border-dashed rounded-lg bg-muted/50">
          No active searches
        </li>
      }
    </ul>
  </div>
